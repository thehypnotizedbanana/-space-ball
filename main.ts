controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 4 4 4 . . . . . . . . 
        . . . . . 4 4 4 . . . . . . . . 
        . . . . . . f . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.vy = -200
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 4 4 4 . . . . . . . 
        . . . . . . f 4 4 f . . . . . . 
        . . . . . . 4 4 4 f . . . . . . 
        . . . . . . 4 . 4 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
info.onCountdownEnd(function () {
    effects.starField.startScreenEffect()
    game.over(true)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 4 4 4 . . . . . . . 
        . . . . . f 4 4 f . . . . . . . 
        . . . . . f 4 4 4 . . . . . . . 
        . . . . . . 4 . 4 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . f . . . . . . 
        . . . . . . . . 4 4 4 . . . . . 
        . . . . . . . . 4 4 4 . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
})
let mySprite: Sprite = null
mySprite = sprites.create(img`
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    .......444......
    .......f4f......
    .......444......
    .......4.4......
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    ................
    `, SpriteKind.Player)
let ball = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . 8 8 9 8 8 . . . . . . 
    . . . . 9 8 8 9 8 8 9 . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 8 8 9 9 9 8 8 . . . . . 
    . . . . 8 8 9 9 9 8 8 . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 9 8 8 9 8 8 9 . . . . . 
    . . . . . 8 8 9 8 8 . . . . . . 
    `, SpriteKind.Enemy)
ball.vx = 60
ball.vy = 40
ball.setFlag(SpriteFlag.BounceOnWall, true)
let ball2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . 8 8 9 8 8 . . . . . . 
    . . . . 8 8 8 9 8 8 8 . . . . . 
    . . . . 8 8 8 9 8 8 8 . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 8 8 9 9 9 8 8 . . . . . 
    . . . . 8 8 8 9 8 8 8 . . . . . 
    . . . . 8 8 8 8 8 8 8 . . . . . 
    . . . . 8 8 8 8 8 8 8 . . . . . 
    . . . . . 8 8 8 8 8 . . . . . . 
    `, SpriteKind.Enemy)
ball2.vx = 50
ball2.vy = 30
ball2.setFlag(SpriteFlag.BounceOnWall, true)
info.setLife(3)
game.setDialogFrame(img`
    999999999999999999999999999999999
    966888888888888888888888888888669
    968888888888888888888888888888869
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    988888888888888888888888888888889
    968888888888888888888888888888869
    966888888888888888888888888888669
    999999999999999999999999999999991
    `)
game.showLongText("welcome to space ball press A to play and jump, dodge the balls if you can", DialogLayout.Center)
tiles.setTilemap(tiles.createTilemap(hex`1000100002010601030303080303080803030307060808080303030803080108010308010608080808080303030303030303080308030303030303030606030303080803060606060101010308080309030608030601030303030303030303030303030306060606030303080808080601010303060303030101010303030303030103060301030303030303030303030303030603010106060603060601080808060606030303030303030303030303030303030608080806060808080808010104060805030303030303060803030303030303060108080106030303030606060808060803030303030303060101030303030a06060606060600030303030303030a0b`, img`
    2 2 2 2 . . . . . . . . . . . 2 
    2 . . . . . . . . . 2 . 2 . . 2 
    2 . . . . . . . . . . . . . . . 
    . . . . . . . . 2 2 . . . . . . 
    2 2 2 2 2 2 2 . . . . 2 . 2 . . 
    2 2 . . . . . . . . . . . . . . 
    2 2 2 2 . . . . . . . 2 2 2 . . 
    2 . . . 2 2 2 . . . . . . 2 . 2 
    . 2 . . . . . . . . . . . . . 2 
    . 2 2 2 2 2 . 2 2 2 . . . 2 2 2 
    . . . . . . . . . . . . . . . . 
    2 . . . 2 2 . . . . . 2 2 2 2 . 
    . . . . . . . 2 . . . . . . . . 
    2 2 . . 2 2 . . . . 2 2 2 . . 2 
    . . . . . . . . 2 2 2 . . . . . 
    2 2 2 2 2 2 2 . . . . . . . . 2 
    `, [myTiles.transparency16,sprites.dungeon.floorLight0,sprites.dungeon.doorLockedSouth,sprites.dungeon.darkGroundSouthEast1,sprites.dungeon.floorLight4,sprites.dungeon.stairLadder,sprites.dungeon.floorLightMoss,sprites.builtin.forestTiles0,sprites.dungeon.darkGroundNorthWest1,sprites.builtin.coral0,sprites.dungeon.stairLarge,sprites.dungeon.floorLight2], TileScale.Sixteen))
tiles.placeOnRandomTile(ball, sprites.dungeon.stairLadder)
tiles.placeOnRandomTile(ball2, sprites.dungeon.stairLadder)
mySprite.ay = 500
game.setDialogCursor(img`
    . . . . f f f f f . . . . . . . 
    . . . f 8 8 8 8 8 f . . . . . . 
    . . f 9 9 9 9 8 8 8 f . . . . . 
    . . f 9 9 f 9 9 8 8 f f . . . . 
    . 9 9 9 9 f 9 9 8 8 d d f . . . 
    c 9 8 8 9 9 9 9 8 8 b d c . . . 
    c 9 9 9 9 c 9 9 8 8 b d c . . . 
    c f f f f 9 9 9 8 8 f c f . . . 
    . f b d f f 8 8 8 8 8 f . . . . 
    . f d d f 8 f f f 8 8 f . . . . 
    . . f f f 8 8 8 8 f f f . f f . 
    . . f 8 8 f 8 8 8 8 f f . 8 f . 
    . f f 8 8 8 f f f f f f f 8 f . 
    . f b d f 8 8 f b b f f f 8 f . 
    . f d d f f 8 8 d d b f f f f . 
    . f f f f f f f f f f f f f . . 
    `)
game.splash("WELCOME TO THE GRAV-BALL DUNGEON")
game.setDialogTextColor(1)
controller.moveSprite(mySprite)
scene.cameraFollowSprite(mySprite)
info.startCountdown(50)
let hi = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . 8 9 8 9 8 . . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 9 8 9 8 9 8 9 . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 9 8 9 8 9 8 9 . . . . . 
    . . . . 8 9 8 9 8 9 8 . . . . . 
    . . . . 9 8 9 8 9 8 9 . . . . . 
    . . . . . 9 8 9 8 9 . . . . . . 
    `, SpriteKind.Enemy)
hi.vx = 50
hi.vy = 40
hi.setFlag(SpriteFlag.BounceOnWall, true)
tiles.placeOnTile(hi, tiles.getTileLocation(9, 10))
